*{margin:0;padding:0;box-sizing:border-box}body{background:#0d1117;display:flex;justify-content:center;align-items:center;min-height:100vh;font-family:-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#c9d1d9;overflow:hidden;-webkit-user-select:none;user-select:none}#main-menu{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:40px}#main-menu.hidden{display:none}#menu-title{font-size:36px;font-weight:800;color:#c9d1d9;letter-spacing:.15em;margin-bottom:6px}#menu-subtitle{font-size:14px;color:#8b949e;margin-bottom:32px}#level-cards{display:flex;gap:20px}.level-card{width:220px;padding:24px 20px;background:#161b22;border:1px solid #30363d;border-radius:12px;cursor:pointer;text-align:center;transition:all .25s ease}.level-card:hover{transform:translateY(-8px);box-shadow:0 12px 40px #0006}.level-card-num{font-size:40px;font-weight:800;line-height:1;margin-bottom:8px}.level-card-name{font-size:18px;font-weight:700;color:#c9d1d9;margin-bottom:4px}.level-card-diff{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.1em;margin-bottom:10px}.level-card-desc{font-size:11px;color:#8b949e;line-height:1.5}.level-card-info{margin-top:12px;font-size:10px;color:#484f58;border-top:1px solid #30363d;padding-top:10px;display:flex;justify-content:space-around}.level-card-info span{display:flex;flex-direction:column;gap:2px}.level-card-info .val{font-size:13px;font-weight:700;color:#c9d1d9}#menu-btn,#menu-btn-go{padding:4px 10px;background:#21262d;border:1px solid #30363d;border-radius:4px;color:#8b949e;font-size:12px;cursor:pointer;transition:all .15s}#menu-btn:hover,#menu-btn-go:hover{border-color:#58a6ff;color:#c9d1d9}#game-container{display:flex;flex-direction:column;border-radius:8px;overflow:hidden;box-shadow:0 8px 40px #00000080}#game-container.hidden{display:none}#hud{width:800px;display:flex;justify-content:space-between;align-items:center;padding:8px 20px;background:#161b22;border-bottom:1px solid rgba(255,255,255,.06);font-size:14px;font-weight:500}.hud-item{display:flex;align-items:center;gap:6px}.hud-icon{font-size:14px;opacity:.6}.hud-hp{color:#f85149}.hud-gold{color:#e3b341}#hud-wave{color:#c9d1d9}#hud-lives{color:#f85149}#hud-gold{color:#e3b341}.hud-controls{display:flex;align-items:center;gap:6px}#volume-slider{width:60px;height:4px;accent-color:#58a6ff;cursor:pointer}#speed-btn,#auto-btn{padding:2px 8px;background:#21262d;border:1px solid #30363d;border-radius:4px;color:#8b949e;font-size:11px;font-weight:600;cursor:pointer;transition:all .15s}#speed-btn:hover,#auto-btn:hover{border-color:#58a6ff;color:#c9d1d9}#speed-btn.active,#auto-btn.active{border-color:#58a6ff;background:#1c2a3f;color:#58a6ff}#game-canvas{display:block;background:#0d1117;cursor:crosshair}#tower-panel{width:800px;display:flex;align-items:center;justify-content:center;gap:6px;padding:8px 12px;background:#161b22;border-top:1px solid rgba(255,255,255,.06)}.tower-btn{display:flex;flex-direction:column;align-items:center;gap:3px;padding:6px 10px;background:#21262d;border:1px solid #30363d;border-radius:6px;color:#c9d1d9;cursor:pointer;font-size:11px;transition:all .15s ease;min-width:80px}.tower-btn:hover{border-color:#58a6ff;background:#1c2433}.tower-btn.selected{border-color:#58a6ff;background:#1c2a3f;box-shadow:0 0 0 1px #58a6ff}.tower-btn.disabled{opacity:.35;cursor:not-allowed;pointer-events:none}.tower-btn canvas{display:block;width:32px;height:32px}.tower-btn-name{font-weight:600;font-size:11px;letter-spacing:.02em}.tower-btn-cost{color:#e3b341;font-size:10px;font-weight:500}.tower-btn-cost:before{content:"~ ";opacity:.5}#wave-btn{padding:6px 16px;background:#238636;border:1px solid #2ea043;border-radius:6px;color:#fff;font-size:12px;font-weight:600;cursor:pointer;transition:background .15s;white-space:nowrap;align-self:center}#wave-btn:hover{background:#2ea043}#wave-btn:disabled{background:#21262d;border-color:#30363d;color:#484f58;cursor:default}#tower-preview{position:fixed;pointer-events:none;background:#161b22;border:1px solid #30363d;border-radius:8px;padding:8px;z-index:100;box-shadow:0 8px 24px #0006;width:176px}#tower-preview.hidden{display:none}#preview-canvas{display:block;width:160px;height:160px;border-radius:4px}#preview-info{margin-top:6px;font-size:11px;line-height:1.6}#preview-info .stat{display:flex;justify-content:space-between;padding:1px 0}#preview-info .stat-label{color:#8b949e}#preview-info .stat-value{color:#c9d1d9;font-weight:600}#preview-info .stat-desc{color:#58a6ff;text-align:center;padding-top:3px;font-size:10px;border-top:1px solid rgba(255,255,255,.05);margin-top:3px}#modifier-overlay{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#000c;z-index:150;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}#modifier-overlay.hidden{display:none}#modifier-title{color:#c9d1d9;font-size:18px;font-weight:600;margin-bottom:24px;text-transform:uppercase;letter-spacing:.1em}#modifier-cards{display:flex;gap:16px}.modifier-card{width:160px;padding:20px 16px;background:#161b22;border:1px solid #30363d;border-radius:10px;cursor:pointer;text-align:center;transition:all .25s ease;transform:translateY(30px);opacity:0;animation:cardIn .4s ease forwards}.modifier-card:nth-child(1){animation-delay:.05s}.modifier-card:nth-child(2){animation-delay:.15s}.modifier-card:nth-child(3){animation-delay:.25s}@keyframes cardIn{to{transform:translateY(0);opacity:1}}.modifier-card:hover{border-color:#58a6ff;background:#1c2433;transform:translateY(-6px) scale(1.03);box-shadow:0 8px 30px #58a6ff26}.modifier-card.selected{animation:cardSelect .4s ease forwards}@keyframes cardSelect{0%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:1;border-color:#58a6ff;box-shadow:0 0 20px #58a6ff4d}to{transform:scale(.9) translateY(-20px);opacity:0}}.modifier-card.dismissed{animation:cardDismiss .3s ease forwards}@keyframes cardDismiss{to{transform:scale(.85);opacity:0}}.modifier-card-icon{font-size:28px;margin-bottom:10px;line-height:1}.modifier-card-name{font-size:14px;font-weight:600;color:#c9d1d9;margin-bottom:6px}.modifier-card-desc{font-size:11px;color:#8b949e;line-height:1.4}.modifier-card.event-rare{border:2px solid #58a6ff;box-shadow:0 0 12px #58a6ff40,inset 0 0 8px #58a6ff0d;animation:cardIn .4s ease forwards,rarePulse 2s ease-in-out infinite}.modifier-card.event-epic{border:2px solid #a855f7;box-shadow:0 0 18px #a855f759,inset 0 0 12px #a855f714;animation:cardIn .4s ease forwards,epicPulse 1.5s ease-in-out infinite}.modifier-card.event-legendary{border:2px solid #f0883e;box-shadow:0 0 25px #f0883e73,0 0 50px #f0883e26,inset 0 0 15px #f0883e1a;animation:cardIn .4s ease forwards,legendaryPulse 1.2s ease-in-out infinite;background:linear-gradient(135deg,#161b22,#1f1510,#161b22)}@keyframes rarePulse{0%,to{box-shadow:0 0 12px #58a6ff40}50%{box-shadow:0 0 20px #58a6ff73,0 0 40px #58a6ff1a}}@keyframes epicPulse{0%,to{box-shadow:0 0 18px #a855f759}50%{box-shadow:0 0 30px #a855f78c,0 0 50px #a855f726}}@keyframes legendaryPulse{0%,to{box-shadow:0 0 25px #f0883e73,0 0 50px #f0883e26}50%{box-shadow:0 0 35px #f0883ea6,0 0 70px #f0883e40,0 0 100px #f0883e14}}.modifier-card.event-rare:hover{border-color:#79b8ff;box-shadow:0 0 25px #58a6ff80}.modifier-card.event-epic:hover{border-color:#c084fc;box-shadow:0 0 30px #a855f78c}.modifier-card.event-legendary:hover{border-color:#ffb366;box-shadow:0 0 40px #f0883e99,0 0 80px #f0883e33}#global-modifier-overlay{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#000000d9;z-index:160;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}#global-modifier-overlay.hidden{display:none}#global-modifier-title{color:#f0883e;font-size:22px;font-weight:700;text-transform:uppercase;letter-spacing:.15em;margin-bottom:6px;text-shadow:0 0 20px rgba(240,136,62,.4)}#global-modifier-subtitle{color:#8b949e;font-size:13px;margin-bottom:28px}#global-modifier-cards{display:flex;gap:20px;perspective:800px}.global-card-wrapper{width:150px;height:210px;cursor:pointer;perspective:800px;opacity:0;transform:translateY(40px);animation:gCardAppear .5s ease forwards}.global-card-wrapper:nth-child(1){animation-delay:.1s}.global-card-wrapper:nth-child(2){animation-delay:.25s}.global-card-wrapper:nth-child(3){animation-delay:.4s}@keyframes gCardAppear{to{transform:translateY(0);opacity:1}}.global-card-inner{position:relative;width:100%;height:100%;transition:transform .6s ease;transform-style:preserve-3d}.global-card-wrapper.flipped .global-card-inner{transform:rotateY(180deg)}.global-card-front,.global-card-back{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:12px;backface-visibility:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center}.global-card-back{background:linear-gradient(135deg,#1a1e2e,#2d1f3d,#1a1e2e);border:2px solid #f0883e;box-shadow:0 0 15px #f0883e33,inset 0 0 30px #f0883e0d}.global-card-back:before{content:"?";font-size:48px;font-weight:700;color:#f0883e;text-shadow:0 0 15px rgba(240,136,62,.5)}.global-card-back:after{content:"";position:absolute;top:6px;right:6px;bottom:6px;left:6px;border:1px solid rgba(240,136,62,.2);border-radius:8px}.global-card-front{background:#161b22;border:2px solid #30363d;padding:16px 12px;transform:rotateY(180deg)}.global-card-front .gc-icon{font-size:36px;margin-bottom:12px}.global-card-front .gc-name{font-size:14px;font-weight:600;color:#c9d1d9;margin-bottom:8px;text-align:center}.global-card-front .gc-desc{font-size:11px;color:#8b949e;line-height:1.4;text-align:center}.global-card-front .gc-tag{margin-top:10px;font-size:9px;text-transform:uppercase;letter-spacing:.1em;color:#f85149;border:1px solid #f8514940;padding:2px 8px;border-radius:4px}.global-card-wrapper.burning{animation:cardBurn .8s ease forwards;pointer-events:none}@keyframes cardBurn{0%{filter:brightness(1);transform:scale(1);opacity:1}30%{filter:brightness(2) sepia(1) saturate(3);transform:scale(1.03);opacity:1}60%{filter:brightness(3) sepia(1) saturate(5);transform:scale(.97);opacity:.7}to{filter:brightness(.3);transform:scale(.8) translateY(20px);opacity:0}}.global-card-wrapper.flipped .global-card-front{border-color:#f0883e;box-shadow:0 0 25px #f0883e4d}.global-card-wrapper:not(.flipped):not(.burning):hover{transform:translateY(-8px) scale(1.04)}.global-card-wrapper:not(.flipped):not(.burning):hover .global-card-back{border-color:#f0a050;box-shadow:0 0 25px #f0883e59,inset 0 0 30px #f0883e1a}.sell-tooltip{position:fixed;pointer-events:none;background:#161b22;border:1px solid #f85149;border-radius:6px;padding:4px 10px;color:#f85149;font-size:11px;font-weight:600;z-index:90;white-space:nowrap}#game-over{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;justify-content:center;align-items:center;background:#000000bf;z-index:200;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}#game-over.hidden{display:none}#game-over-content{text-align:center;background:#161b22;padding:32px 48px;border-radius:10px;border:1px solid #30363d;box-shadow:0 8px 40px #00000080}#game-over-content h1{color:#f85149;font-size:22px;margin-bottom:8px}#game-over-content p{margin-bottom:18px;font-size:15px;color:#8b949e}#restart-btn{padding:8px 24px;background:#238636;border:1px solid #2ea043;border-radius:6px;color:#fff;font-size:14px;font-weight:600;cursor:pointer;transition:background .15s}#restart-btn:hover{background:#2ea043}
